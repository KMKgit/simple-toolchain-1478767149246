- var page_title = '지능형 인지 프레임워크';
- var tmp = ["active","","success","","warning","","danger","","info",""]
include /jade/head.jade

body
  if (!user)
    div.form-group
      div.col-sm-offset-2.col-sm-10
        a.btn.btn-default(href="/login") sign in
  else     
    #wrapper
      include /jade/nav.jade
      .navbar-default.sidebar(role='navigation')
        .sidebar-nav.navbar-collapse
          ul#side-menu.nav.in
            li
              a(href='/')
                i.fa.fa-dashboard.fa-fw
                |  Dashboard
            |                         
            li
              a.active(href='myapi')
                i.fa.fa-table.fa-fw
                |  Workspace
            // li
            //   a(href='successapi')
            //     i.fa.fa-check.fa-fw
            //     |  Success API
            // li
            //   a(href='learningapi')
            //     i.fa.fa-tasks.fa-fw
            //     |  Learning API
            // li 
            //   a(href='errapi')
            //     i.fa.fa-warning.fa-fw
            //     |  Err API
        // /.sidebar-collapse
      // /.navbar-static-side
    |         
    #page-wrapper(style='min-height: 804px;')
      .row
        .col-lg-12
          h1.page-header Workspace
      .row
        .col-lg-12
          .panel-heading
            .row
              .pull-left.col-lg-9
                a.btn.btn-default(href='createapi', role='button') 
                    i.glyphicon.glyphicon-plus 
                    |  Create
                button#remove.btn.btn-default
                  i.glyphicon.glyphicon-remove
                  |  Delete
              .pull-right.col-lg-3
                .input-group.custom-search-form
                  input.form-control#search-inp(type='text', placeholder='Search')
                  span.input-group-btn
                    button.btn.btn-default#search-btn(type='button')
                      i.fa.fa-search
        .col-lg-12
            .panel-body
              .dataTable_wrapper
                #dataTables-example_wrapper.dataTables_wrapper.form-inline.dt-bootstrap.no-footer
                  .row
                    .col-sm-12
                      table#dataTables-example.table.table-striped.table-bordered.table-hover.dataTable.no-footer.dtr-inline(role='grid', style='width: 100%')
                        thead
                          tr(role='row')
                            th.text-center(style='width: 6%;', colspan='1', rowspan='1', tabindex='0') 선택
                            th#api-name-th.text-center.sorting(style='width: 14%;', colspan='1', rowspan='1', aria-controls='dataTables-example', tabindex='0') API 이름
                            th#api-key-th.text-center.sorting(style='width: 24%;', colspan='1', rowspan='1', aria-controls='dataTables-example', tabindex='0') API 키
                            th#method-th.text-center.sorting(style='width: 10%;', colspan='1', rowspan='1', aria-controls='dataTables-example', tabindex='0') 방법
                            th#valid-th.text-center.sorting(style='width: 10%;', colspan='1', rowspan='1', aria-controls='dataTables-example', tabindex='0') 학습완료
                            th#write-time-th.text-center.sorting(style='width: 20%;', colspan='1', rowspan='1', aria-controls='dataTables-example', tabindex='0') 등록일
                            th#api-info.text-center.sorting(style='width: 8%;', colspan='1', rowspan='1', aria-controls='dataTables-example', tabindex='0') 정보
                            th#api-test.text-center.sorting(style='width: 8%;', colspan='1', rowspan='1', aria-controls='dataTables-example', tabindex='0') 테스트
                        tbody#tableBody 
                          - for (var i = 0; i < Math.min(10, myapis.length); ++i) {
                            tr.text-center(class=tmp[i%10])
                              td.center
                                input(type='checkbox', id='chk' + i, value = 'true')
                              td.center
                                |#{myapis[i].api_name} 
                              td.center(id='ak' + myapis[i].api_key)
                                |#{myapis[i].api_key}
                              td.center
                                |#{myapis[i].method}
                              td.center
                                case myapis[i].valid
                                  when 1
                                    i.fa.fa-check
                                  when 0
                                    i.fa.fa-tasks
                                  default
                                    a(href='/api/err?aid=' + myapis[i].api_key)
                                      i.fa.fa-warning
                              td.center
                                |#{myapis[i].write_time}
                              td.center 
                                a(href='/api/info?aid=' + myapis[i].api_key)
                                  i.fa.fa-arrow-circle-right
                              td.center
                                if myapis[i].valid == 1
                                  a(href='/api?aid=' + myapis[i].api_key)
                                    i.fa.fa-arrow-circle-right
                                else
                                  a(href='/api/err?aid=' + myapis[i].api_key)
                                    i.fa.fa-warning
                          - }
                  
                    .col-sm-12
                      | Showing 1 to 10 of #{myapis.length} entries
                      ul.pagination.pull-right#pagination
                        - for (var i = 1; i <= maxPage; ++i) {
                          if (i == 1) 
                            li.paginate_button.active(tabindex='0', aria-controls='dataTables-example')
                              a
                               |#{i}
                          else
                            li.paginate_button(tabindex='0', aria-controls='dataTables-example')
                              a
                               |#{i}
                        - }
              // /.table-responsive
            // /.panel-body
          // /.panel
        // /.col-lg-12
  

script(src='/link/jquery/dist/jquery.min.js')
// Bootstrap Core JavaScript
script(src='/link/bootstrap/dist/js/bootstrap.min.js')
// Metis Menu Plugin JavaScript
script(src='/link/metisMenu/dist/metisMenu.min.js')
// Morris Charts JavaScript
script(src='/link/raphael/raphael.min.js')
// Custom Theme JavaScript
script(src='/link/datatables/media/js/jquery.dataTables.min.js')
script(src='/link/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js')
script(src='/link/datatables-responsive/js/dataTables.responsive.js')
script(src='/link/startbootstrap-sb-admin-2/dist/js/sb-admin-2.js')
script(src='/js/myapi.js')
script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js')
script.
  $(document).ready(function() {
    $('#dataTables-example').DataTable({
      responsive: true
    });
  });
